# CIMAgent 社交网络干预仿真平台

## 项目简介

CIMAgent 是一个面向社交网络干预实验的高可扩展仿真平台，支持匿名智能体大规模注入、定向对话说服、社交网络演化与立场演变分析。平台基于 Oasis 框架，结合大模型驱动的智能体行为，适用于社交舆论操控、信息扩散、AI干预等前沿研究。

---

## 核心创新点

1. **匿名智能体批量注入与主题定向**
   - 支持匿名智能体大规模注入与特定主题相关的帖子，模拟真实社交平台的"水军"或外部干预。
2. **定向对话说服与立场引导**
   - 匿名智能体可自动选择目标用户，进行多轮私聊对话，实现对目标用户立场的引导与说服。
3. **干预与非干预对比实验**
   - 支持灵活切换是否介入对话干预，便于对比分析干预对社交网络整体立场演化的影响。
4. **高可扩展的模块化设计**
   - 数据注入、环境初始化、干预、演化模拟等流程高度解耦，便于扩展和自定义实验。
5. **全流程自动化与可追溯性**
   - 支持数据库备份、日志追踪、数据摘要报告，实验可复现、可追踪。

---

## 安装与环境依赖

### 1. 克隆项目
```bash
git clone <your-repo-url> CIMagent
cd CIMagent
```

### 2. 安装依赖
建议使用 Python 3.9+，推荐虚拟环境：
```bash
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

如需使用大模型（如VLLM/OpenAI），请根据 `cim/config.py` 配置模型平台与API。

### 3. 数据准备
- 用户数据CSV（如 `data/users_info.csv`）
- 生成帖子JSON（如 `data/processed/generated_posts.json`）

---

## 运行方式

### 基本命令
```bash
python main.py \
  --users_csv data/users_info.csv \
  --posts_json data/processed/generated_posts.json \
  --steps 20 \
  --intervene_dialogue  # 是否介入匿名智能体对话说服
```

### 主要参数说明
- `--users_csv`：用户数据CSV路径
- `--posts_json`：生成帖子JSON路径
- `--profile_output`：用户档案输出路径
- `--db_path`：数据库路径
- `--steps`：社交网络演化步数
- `--intervene_dialogue`：是否在注入后介入匿名智能体对话说服
- `--backup`/`--cleanup`/`--debug`：数据管理与调试参数

### 典型流程
1. **显示配置信息**
2. **数据备份（可选）**
3. **加载用户与帖子数据**
4. **生成用户档案**
5. **注入匿名帖子**
6. **（可选）匿名智能体对话干预**
7. **社交网络多步演化模拟**
8. **输出数据库、报告、日志等**

---

## 干预实验设计与分析

- 支持对比"仅注入匿名帖子"与"注入后主动对话干预"两种情景。
- 匿名智能体可按多种策略（如topk度中心性）自动选择目标用户，进行多轮私聊说服。
- 可分析干预前后全网用户对指定主题的立场分布变化。
- 支持自定义说服内容、目标选择策略、对话轮数等参数。

---

## 进阶实验设计与创新点

- **主动操控型匿名智能体**  
  匿名智能体不仅在平台初始化时批量注入与某话题相关的帖子，营造特定信息环境，还能在模拟开始时对部分目标用户进行"对话暗示"或"立场引导"，模拟真实社交平台中的外部操控与定向影响。

- **双重干预机制**  
  支持"环境营造"（大规模话题注入）与"定向引导"（私聊/评论暗示）两种干预方式，可灵活组合，便于分析不同干预策略对社交网络立场演化的影响。

- **影响分析与对比**  
  可对比"仅注入"与"注入+暗示"两种情景下，平台用户立场分布、极化程度、信息扩散路径等多维度指标，揭示外部操控的真实效果与机制。

- **可扩展实验框架**  
  支持自定义暗示目标选择策略、暗示内容生成方式、干预时机等，适用于多种社交网络干预与舆论操控实验。

### 典型实验流程

1. **批量注入匿名话题帖子**，营造特定信息环境
2. **对部分目标用户进行定向对话暗示**（如私聊、评论等）
3. **启动社交网络多步演化模拟**
4. **分析干预与非干预下全网用户立场演化的差异**

---

## 输出与结果
- **数据库文件**：完整记录社交网络演化与用户行为
- **用户档案CSV**：Oasis格式用户信息
- **数据摘要报告**：JSON格式实验摘要
- **日志文件**：详细运行与错误日志

---

## 常见问题与调试
- 启用 `--debug` 获取详细日志与错误堆栈
- 检查模型服务、数据文件路径、磁盘空间等
- 支持环境变量覆盖配置（详见 `cim/config.py`）

---

## 适用场景
- 社交网络舆论操控与AI干预实验
- 信息扩散与立场演化建模
- 大模型驱动的多智能体仿真
- 舆情引导、虚假信息传播等研究
- 舆论操控、AI水军、定向信息干预、社交网络极化等前沿研究
- 可用于政策评估、网络安全、虚假信息防控等实际应用

---

## 联系与贡献
如有问题或希望贡献代码，请提交 issue 或 pull request。 