# CIMAgent å¸–å­ç”Ÿæˆå™¨

è¿™ä¸ªæ¨¡å—æä¾›äº†åŸºäºç”¨æˆ·æ¡£æ¡ˆå’Œè¯é¢˜æ•°æ®ç”Ÿæˆä¸ªæ€§åŒ–ç¤¾äº¤åª’ä½“å¸–å­çš„åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹ç‚¹

- ğŸ¯ **ä¸ªæ€§åŒ–ç”Ÿæˆ**: åŸºäºç”¨æˆ·æ¡£æ¡ˆï¼ˆæè¿°ã€æ´»è·ƒåº¦ã€ç²‰ä¸æ•°ç­‰ï¼‰ç”Ÿæˆç¬¦åˆç”¨æˆ·ç‰¹å¾çš„å¸–å­
- ğŸ—£ï¸ **è¯é¢˜ç›¸å…³**: æ”¯æŒæŒ‡å®šè¯é¢˜ï¼Œç”Ÿæˆç›¸å…³å†…å®¹
- ğŸ”„ **å¤šæ ·æ€§**: é€šè¿‡è°ƒæ•´æ¸©åº¦å‚æ•°æ§åˆ¶ç”Ÿæˆå†…å®¹çš„å¤šæ ·æ€§
- ğŸ“Š **æ‰¹é‡ç”Ÿæˆ**: æ”¯æŒæ‰¹é‡ç”Ÿæˆå¤šä¸ªç”¨æˆ·çš„å¸–å­
- ğŸ’¾ **å¤šæ ¼å¼è¾“å‡º**: æ”¯æŒJSONå’ŒCSVæ ¼å¼ä¿å­˜

## æ–‡ä»¶ç»“æ„

```
cim/
â”œâ”€â”€ generate_public_posts.py    # ä¸»è¦ç”Ÿæˆå™¨ç±»
â””â”€â”€ README.md                   # è¯´æ˜æ–‡æ¡£

scripts/
â””â”€â”€ generate_posts_example.py   # ä½¿ç”¨ç¤ºä¾‹è„šæœ¬

data/
â”œâ”€â”€ users_info.csv              # ç”¨æˆ·æ•°æ®
â”œâ”€â”€ topics.json                 # è¯é¢˜æ•°æ®
â””â”€â”€ generated/                  # ç”Ÿæˆçš„å¸–å­è¾“å‡ºç›®å½•
```

## å¿«é€Ÿå¼€å§‹

### 1. åŸºæœ¬ä½¿ç”¨

```python
import asyncio
from cim.generate_public_posts import PostGenerator

async def main():
    # åˆå§‹åŒ–ç”Ÿæˆå™¨
    generator = PostGenerator(temperature=0.9)
    
    # åŠ è½½æ•°æ®
    users = generator.load_users_data("data/users_info.csv")
    topics = generator.load_topics_data("data/topics.json")
    
    # ç”Ÿæˆå¸–å­
    posts = await generator.generate_multiple_posts(
        user_ids=list(users.keys())[:5],  # å‰5ä¸ªç”¨æˆ·
        topic_id="topic_1",               # ç¬¬ä¸€ä¸ªè¯é¢˜
        num_posts=3                       # ç”Ÿæˆ3æ¡å¸–å­
    )
    
    # ä¿å­˜ç»“æœ
    generator.save_posts_to_json(posts, "output.json")

asyncio.run(main())
```

### 2. ä½¿ç”¨å‘½ä»¤è¡Œè„šæœ¬

```bash
# ç”Ÿæˆ5æ¡å…³äºtopic_1çš„å¸–å­ï¼Œä½¿ç”¨10ä¸ªç”¨æˆ·
python scripts/generate_posts_example.py --topic topic_1 --num_posts 5 --users 10

# ç”Ÿæˆ10æ¡å…³äºtopic_2çš„å¸–å­ï¼Œä½¿ç”¨20ä¸ªç”¨æˆ·ï¼Œæ¸©åº¦è®¾ä¸º0.8
python scripts/generate_posts_example.py --topic topic_2 --num_posts 10 --users 20 --temperature 0.8
```

## å‚æ•°è¯´æ˜

### PostGenerator å‚æ•°

- `temperature` (float): æ¨¡å‹æ¸©åº¦å‚æ•°ï¼Œæ§åˆ¶ç”Ÿæˆå¤šæ ·æ€§
  - 0.0-0.3: ç¡®å®šæ€§é«˜ï¼Œå†…å®¹ç›¸ä¼¼
  - 0.5-0.7: å¹³è¡¡çš„å¤šæ ·æ€§
  - 0.8-1.0: é«˜å¤šæ ·æ€§ï¼Œåˆ›æ„ä¸°å¯Œ

### å‘½ä»¤è¡Œå‚æ•°

- `--topic`: è¯é¢˜ID (å¦‚ "topic_1", "topic_2")
- `--num_posts`: è¦ç”Ÿæˆçš„å¸–å­æ•°é‡
- `--users`: ä½¿ç”¨çš„ç”¨æˆ·æ•°é‡
- `--temperature`: æ¨¡å‹æ¸©åº¦å‚æ•°

## æ•°æ®æ ¼å¼

### ç”¨æˆ·æ•°æ® (users_info.csv)

åŒ…å«ä»¥ä¸‹å­—æ®µï¼š
- `user_id`: ç”¨æˆ·ID
- `name`: çœŸå®å§“å
- `username`: ç”¨æˆ·å
- `description`: ä¸ªäººæè¿°
- `followers_count`: ç²‰ä¸æ•°
- `following_count`: å…³æ³¨æ•°
- `user_char`: ç”¨æˆ·ç‰¹å¾
- `activity_level`: æ´»è·ƒåº¦
- `activity_level_frequency`: æ´»åŠ¨é¢‘ç‡

### è¯é¢˜æ•°æ® (topics.json)

```json
{
    "topic_1": {
        "title": "è¯é¢˜æ ‡é¢˜",
        "description": "è¯é¢˜æè¿°",
        "keywords": ["å…³é”®è¯1", "å…³é”®è¯2"],
        "related_topics": ["ç›¸å…³è¯é¢˜1", "ç›¸å…³è¯é¢˜2"]
    }
}
```

### è¾“å‡ºæ ¼å¼

ç”Ÿæˆçš„å¸–å­åŒ…å«ä»¥ä¸‹å­—æ®µï¼š
- `user_id`: ç”¨æˆ·ID
- `username`: ç”¨æˆ·å
- `content`: å¸–å­å†…å®¹
- `topic`: è¯é¢˜æ ‡é¢˜
- `timestamp`: ç”Ÿæˆæ—¶é—´

## å¯ç”¨è¯é¢˜

å½“å‰æ”¯æŒçš„è¯é¢˜ï¼š

1. **topic_1**: ä¸­ç¾è´¸æ˜“å…³ç¨å¯¹ç»æµè½¬å‹çš„å½±å“
2. **topic_2**: LLMä»£ç†æ¨¡æ‹Ÿäººç±»ç¤¾äº¤åª’ä½“è¡Œä¸ºçš„å¯ä¿¡åº¦
3. **topic_3**: AIè‰ºæœ¯åœ¨ä¼ ç»Ÿè‰ºæœ¯æ¯”èµ›ä¸­çš„å‡†å…¥é—®é¢˜
4. **topic_4**: ç¤¾äº¤åª’ä½“å¹³å°æ”¿æ²»å¹¿å‘Šç¦ä»¤
5. **topic_5**: å­¦æ ¡ç”¨AIå­¦ä¹ å·¥å…·æ›¿ä»£ä¼ ç»Ÿæ•™ç§‘ä¹¦
6. **topic_6**: è¿œç¨‹å·¥ä½œæˆä¸ºé»˜è®¤å°±ä¸šæ¨¡å¼

## æ³¨æ„äº‹é¡¹

1. **APIé™åˆ¶**: ç”Ÿæˆè¿‡ç¨‹ä¸­ä¼šæ·»åŠ å»¶è¿Ÿä»¥é¿å…APIé™åˆ¶
2. **æ•°æ®è´¨é‡**: ç¡®ä¿ç”¨æˆ·æ•°æ®å’Œè¯é¢˜æ•°æ®æ ¼å¼æ­£ç¡®
3. **æ¨¡å‹é€‰æ‹©**: å½“å‰ä½¿ç”¨GPT-4o-miniæ¨¡å‹ï¼Œå¯æ ¹æ®éœ€è¦è°ƒæ•´
4. **è¾“å‡ºç›®å½•**: ç”Ÿæˆçš„å¸–å­ä¼šä¿å­˜åˆ° `data/generated/` ç›®å½•

## é”™è¯¯å¤„ç†

- å¦‚æœç”¨æˆ·IDä¸å­˜åœ¨ï¼Œä¼šè·³è¿‡è¯¥ç”¨æˆ·
- å¦‚æœè¯é¢˜IDä¸å­˜åœ¨ï¼Œä¼šæ˜¾ç¤ºå¯ç”¨çš„è¯é¢˜åˆ—è¡¨
- ç½‘ç»œé”™è¯¯æˆ–APIé”™è¯¯ä¼šè®°å½•åˆ°æ§åˆ¶å°

## æ‰©å±•åŠŸèƒ½

å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ‰©å±•åŠŸèƒ½ï¼š

1. **æ·»åŠ æ–°è¯é¢˜**: åœ¨ `topics.json` ä¸­æ·»åŠ æ–°çš„è¯é¢˜æ•°æ®
2. **è‡ªå®šä¹‰æç¤ºè¯**: ä¿®æ”¹ `_create_user_prompt` æ–¹æ³•
3. **æ”¯æŒå…¶ä»–æ¨¡å‹**: ä¿®æ”¹ `ModelFactory.create` çš„å‚æ•°
4. **æ·»åŠ æ›´å¤šè¾“å‡ºæ ¼å¼**: æ‰©å±•ä¿å­˜æ–¹æ³• 